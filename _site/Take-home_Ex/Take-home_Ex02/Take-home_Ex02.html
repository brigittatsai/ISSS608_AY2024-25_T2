<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brigitta Karen Tsai">
<meta name="dcterms.date" content="2025-03-03">

<title>ISSS608-VAA - Take-home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">ISSS608-VAA</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-on Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercise">    
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex01/Hands-on_Ex01.html">
 <span class="dropdown-text">Hands-on Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex02/Hands-on_Ex02.html">
 <span class="dropdown-text">Hands-on Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex03/Hands-on_Ex03.html">
 <span class="dropdown-text">Hands-on Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex04/Hands-on_Ex04.html">
 <span class="dropdown-text">Hands-on Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html">
 <span class="dropdown-text">Hands-on Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Hands-on_Ex/Hands-on_Ex07/Hands-on_Ex07.html">
 <span class="dropdown-text">Hands-on Exercise 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-class Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercise">    
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex04/In-class_Ex04.html">
 <span class="dropdown-text">In-class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex05/In-class_Ex05.html">
 <span class="dropdown-text">In-class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../In-class_Ex/In-class_Ex07/In-class_Ex07.html">
 <span class="dropdown-text">In-class Exercise 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercise" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-home Exercise</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercise">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">
 <span class="dropdown-text">Take-home Exercise 2</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#be-tradewise-or-otherwise" id="toc-be-tradewise-or-otherwise" class="nav-link active" data-scroll-target="#be-tradewise-or-otherwise">Be Tradewise or Otherwise</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">1 Overview</a>
  <ul class="collapse">
  <li><a href="#the-background" id="toc-the-background" class="nav-link" data-scroll-target="#the-background">1.1 The Background</a></li>
  <li><a href="#the-data" id="toc-the-data" class="nav-link" data-scroll-target="#the-data">1.2 The Data</a></li>
  <li><a href="#the-task" id="toc-the-task" class="nav-link" data-scroll-target="#the-task">1.3 The Task</a></li>
  </ul></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">2 Getting Started</a>
  <ul class="collapse">
  <li><a href="#install-and-load-r-packages" id="toc-install-and-load-r-packages" class="nav-link" data-scroll-target="#install-and-load-r-packages">2.1 Install and Load R Packages</a></li>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">2.2 Import Data</a></li>
  <li><a href="#data-wrangling" id="toc-data-wrangling" class="nav-link" data-scroll-target="#data-wrangling">2.3 Data Wrangling</a>
  <ul class="collapse">
  <li><a href="#processing-imports-data" id="toc-processing-imports-data" class="nav-link" data-scroll-target="#processing-imports-data">2.3.1 Processing Imports Data</a></li>
  <li><a href="#processing-domestic-exports-data" id="toc-processing-domestic-exports-data" class="nav-link" data-scroll-target="#processing-domestic-exports-data">2.3.2 Processing Domestic Exports Data</a></li>
  <li><a href="#processing-re-exports-data" id="toc-processing-re-exports-data" class="nav-link" data-scroll-target="#processing-re-exports-data">2.3.3 Processing Re-Exports Data</a></li>
  <li><a href="#combining-domestic-exports-and-re-exports-data" id="toc-combining-domestic-exports-and-re-exports-data" class="nav-link" data-scroll-target="#combining-domestic-exports-and-re-exports-data">2.3.4 Combining Domestic Exports and Re-Exports Data</a></li>
  <li><a href="#joining-import-and-export-data" id="toc-joining-import-and-export-data" class="nav-link" data-scroll-target="#joining-import-and-export-data">2.3.5 Joining Import and Export Data</a></li>
  </ul></li>
  <li><a href="#save-data" id="toc-save-data" class="nav-link" data-scroll-target="#save-data">2.4 Save Data</a></li>
  <li><a href="#load-final-data" id="toc-load-final-data" class="nav-link" data-scroll-target="#load-final-data">2.5 Load Final Data</a></li>
  </ul></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">3 Data Visualization</a>
  <ul class="collapse">
  <li><a href="#comments-on-visualizations" id="toc-comments-on-visualizations" class="nav-link" data-scroll-target="#comments-on-visualizations">3.1 Comments on Visualizations</a>
  <ul class="collapse">
  <li><a href="#total-merchandise-trade-at-current-price-2020-2024" id="toc-total-merchandise-trade-at-current-price-2020-2024" class="nav-link" data-scroll-target="#total-merchandise-trade-at-current-price-2020-2024">3.1.1 Total Merchandise Trade at Current Price, 2020-2024</a></li>
  <li><a href="#merchandise-trade-performance-with-major-trading-partners-2024" id="toc-merchandise-trade-performance-with-major-trading-partners-2024" class="nav-link" data-scroll-target="#merchandise-trade-performance-with-major-trading-partners-2024">3.1.2 Merchandise Trade Performance With Major Trading Partners, 2024</a></li>
  <li><a href="#non-oil-domestic-exports-2024" id="toc-non-oil-domestic-exports-2024" class="nav-link" data-scroll-target="#non-oil-domestic-exports-2024">3.1.3 Non-Oil Domestic Exports (2024)</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take-home Exercise 2</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Brigitta Karen Tsai </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 3, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">March 9, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="be-tradewise-or-otherwise" class="level1">
<h1>Be Tradewise or Otherwise</h1>
</section>
<section id="overview" class="level1">
<h1>1 Overview</h1>
<section id="the-background" class="level2">
<h2 class="anchored" data-anchor-id="the-background">1.1 The Background</h2>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">1.2 The Data</h2>
<p>For this analysis, the data will be taken from <a href="https://www.singstat.gov.sg/find-data/search-by-theme/trade-and-investment/merchandise-trade/latest-data">SingStat</a>, the following are the list of data used:</p>
<ol type="1">
<li><strong>Merchandise Trade by Region and Selected Markets</strong>
<ol type="1">
<li>Imports</li>
<li>Domestic Exports</li>
<li>Re-Exports</li>
</ol></li>
</ol>
</section>
<section id="the-task" class="level2">
<h2 class="anchored" data-anchor-id="the-task">1.3 The Task</h2>
<p>There are several tasks assigned for this paper:</p>
<ol type="1">
<li>Select 3 visualisations from <a href="https://www.singstat.gov.sg/modules/infographics/singapore-international-trade">this page</a>, comment the pros and cons and provide the sketches of the make-over</li>
<li>Create the makeover of the 3 data visualisation critic</li>
<li>Analyse the data with time-series analysis by complimenting the analysis using appropriate visualisation methods</li>
</ol>
</section>
</section>
<section id="getting-started" class="level1">
<h1>2 Getting Started</h1>
<section id="install-and-load-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="install-and-load-r-packages">2.1 Install and Load R Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, tsibble, feasts, fable, seasonal, lubridate,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>               data.table, dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import-data" class="level2">
<h2 class="anchored" data-anchor-id="import-data">2.2 Import Data</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Imports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Domestic Exports</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Re-Exports</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>imports <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/imports.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 187 Columns: 266
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(266): ...1, ...2, ...3, ...4, ...5, ...6, ...7, ...8, ...9, ...10, ...1...
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`
• `` -&gt; `...9`
• `` -&gt; `...10`
• `` -&gt; `...11`
• `` -&gt; `...12`
• `` -&gt; `...13`
• `` -&gt; `...14`
• `` -&gt; `...15`
• `` -&gt; `...16`
• `` -&gt; `...17`
• `` -&gt; `...18`
• `` -&gt; `...19`
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`
• `` -&gt; `...36`
• `` -&gt; `...37`
• `` -&gt; `...38`
• `` -&gt; `...39`
• `` -&gt; `...40`
• `` -&gt; `...41`
• `` -&gt; `...42`
• `` -&gt; `...43`
• `` -&gt; `...44`
• `` -&gt; `...45`
• `` -&gt; `...46`
• `` -&gt; `...47`
• `` -&gt; `...48`
• `` -&gt; `...49`
• `` -&gt; `...50`
• `` -&gt; `...51`
• `` -&gt; `...52`
• `` -&gt; `...53`
• `` -&gt; `...54`
• `` -&gt; `...55`
• `` -&gt; `...56`
• `` -&gt; `...57`
• `` -&gt; `...58`
• `` -&gt; `...59`
• `` -&gt; `...60`
• `` -&gt; `...61`
• `` -&gt; `...62`
• `` -&gt; `...63`
• `` -&gt; `...64`
• `` -&gt; `...65`
• `` -&gt; `...66`
• `` -&gt; `...67`
• `` -&gt; `...68`
• `` -&gt; `...69`
• `` -&gt; `...70`
• `` -&gt; `...71`
• `` -&gt; `...72`
• `` -&gt; `...73`
• `` -&gt; `...74`
• `` -&gt; `...75`
• `` -&gt; `...76`
• `` -&gt; `...77`
• `` -&gt; `...78`
• `` -&gt; `...79`
• `` -&gt; `...80`
• `` -&gt; `...81`
• `` -&gt; `...82`
• `` -&gt; `...83`
• `` -&gt; `...84`
• `` -&gt; `...85`
• `` -&gt; `...86`
• `` -&gt; `...87`
• `` -&gt; `...88`
• `` -&gt; `...89`
• `` -&gt; `...90`
• `` -&gt; `...91`
• `` -&gt; `...92`
• `` -&gt; `...93`
• `` -&gt; `...94`
• `` -&gt; `...95`
• `` -&gt; `...96`
• `` -&gt; `...97`
• `` -&gt; `...98`
• `` -&gt; `...99`
• `` -&gt; `...100`
• `` -&gt; `...101`
• `` -&gt; `...102`
• `` -&gt; `...103`
• `` -&gt; `...104`
• `` -&gt; `...105`
• `` -&gt; `...106`
• `` -&gt; `...107`
• `` -&gt; `...108`
• `` -&gt; `...109`
• `` -&gt; `...110`
• `` -&gt; `...111`
• `` -&gt; `...112`
• `` -&gt; `...113`
• `` -&gt; `...114`
• `` -&gt; `...115`
• `` -&gt; `...116`
• `` -&gt; `...117`
• `` -&gt; `...118`
• `` -&gt; `...119`
• `` -&gt; `...120`
• `` -&gt; `...121`
• `` -&gt; `...122`
• `` -&gt; `...123`
• `` -&gt; `...124`
• `` -&gt; `...125`
• `` -&gt; `...126`
• `` -&gt; `...127`
• `` -&gt; `...128`
• `` -&gt; `...129`
• `` -&gt; `...130`
• `` -&gt; `...131`
• `` -&gt; `...132`
• `` -&gt; `...133`
• `` -&gt; `...134`
• `` -&gt; `...135`
• `` -&gt; `...136`
• `` -&gt; `...137`
• `` -&gt; `...138`
• `` -&gt; `...139`
• `` -&gt; `...140`
• `` -&gt; `...141`
• `` -&gt; `...142`
• `` -&gt; `...143`
• `` -&gt; `...144`
• `` -&gt; `...145`
• `` -&gt; `...146`
• `` -&gt; `...147`
• `` -&gt; `...148`
• `` -&gt; `...149`
• `` -&gt; `...150`
• `` -&gt; `...151`
• `` -&gt; `...152`
• `` -&gt; `...153`
• `` -&gt; `...154`
• `` -&gt; `...155`
• `` -&gt; `...156`
• `` -&gt; `...157`
• `` -&gt; `...158`
• `` -&gt; `...159`
• `` -&gt; `...160`
• `` -&gt; `...161`
• `` -&gt; `...162`
• `` -&gt; `...163`
• `` -&gt; `...164`
• `` -&gt; `...165`
• `` -&gt; `...166`
• `` -&gt; `...167`
• `` -&gt; `...168`
• `` -&gt; `...169`
• `` -&gt; `...170`
• `` -&gt; `...171`
• `` -&gt; `...172`
• `` -&gt; `...173`
• `` -&gt; `...174`
• `` -&gt; `...175`
• `` -&gt; `...176`
• `` -&gt; `...177`
• `` -&gt; `...178`
• `` -&gt; `...179`
• `` -&gt; `...180`
• `` -&gt; `...181`
• `` -&gt; `...182`
• `` -&gt; `...183`
• `` -&gt; `...184`
• `` -&gt; `...185`
• `` -&gt; `...186`
• `` -&gt; `...187`
• `` -&gt; `...188`
• `` -&gt; `...189`
• `` -&gt; `...190`
• `` -&gt; `...191`
• `` -&gt; `...192`
• `` -&gt; `...193`
• `` -&gt; `...194`
• `` -&gt; `...195`
• `` -&gt; `...196`
• `` -&gt; `...197`
• `` -&gt; `...198`
• `` -&gt; `...199`
• `` -&gt; `...200`
• `` -&gt; `...201`
• `` -&gt; `...202`
• `` -&gt; `...203`
• `` -&gt; `...204`
• `` -&gt; `...205`
• `` -&gt; `...206`
• `` -&gt; `...207`
• `` -&gt; `...208`
• `` -&gt; `...209`
• `` -&gt; `...210`
• `` -&gt; `...211`
• `` -&gt; `...212`
• `` -&gt; `...213`
• `` -&gt; `...214`
• `` -&gt; `...215`
• `` -&gt; `...216`
• `` -&gt; `...217`
• `` -&gt; `...218`
• `` -&gt; `...219`
• `` -&gt; `...220`
• `` -&gt; `...221`
• `` -&gt; `...222`
• `` -&gt; `...223`
• `` -&gt; `...224`
• `` -&gt; `...225`
• `` -&gt; `...226`
• `` -&gt; `...227`
• `` -&gt; `...228`
• `` -&gt; `...229`
• `` -&gt; `...230`
• `` -&gt; `...231`
• `` -&gt; `...232`
• `` -&gt; `...233`
• `` -&gt; `...234`
• `` -&gt; `...235`
• `` -&gt; `...236`
• `` -&gt; `...237`
• `` -&gt; `...238`
• `` -&gt; `...239`
• `` -&gt; `...240`
• `` -&gt; `...241`
• `` -&gt; `...242`
• `` -&gt; `...243`
• `` -&gt; `...244`
• `` -&gt; `...245`
• `` -&gt; `...246`
• `` -&gt; `...247`
• `` -&gt; `...248`
• `` -&gt; `...249`
• `` -&gt; `...250`
• `` -&gt; `...251`
• `` -&gt; `...252`
• `` -&gt; `...253`
• `` -&gt; `...254`
• `` -&gt; `...255`
• `` -&gt; `...256`
• `` -&gt; `...257`
• `` -&gt; `...258`
• `` -&gt; `...259`
• `` -&gt; `...260`
• `` -&gt; `...261`
• `` -&gt; `...262`
• `` -&gt; `...263`
• `` -&gt; `...264`
• `` -&gt; `...265`
• `` -&gt; `...266`</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dom_exports <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/dom_exports.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 191 Columns: 266
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(266): ...1, ...2, ...3, ...4, ...5, ...6, ...7, ...8, ...9, ...10, ...1...
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`
• `` -&gt; `...9`
• `` -&gt; `...10`
• `` -&gt; `...11`
• `` -&gt; `...12`
• `` -&gt; `...13`
• `` -&gt; `...14`
• `` -&gt; `...15`
• `` -&gt; `...16`
• `` -&gt; `...17`
• `` -&gt; `...18`
• `` -&gt; `...19`
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`
• `` -&gt; `...36`
• `` -&gt; `...37`
• `` -&gt; `...38`
• `` -&gt; `...39`
• `` -&gt; `...40`
• `` -&gt; `...41`
• `` -&gt; `...42`
• `` -&gt; `...43`
• `` -&gt; `...44`
• `` -&gt; `...45`
• `` -&gt; `...46`
• `` -&gt; `...47`
• `` -&gt; `...48`
• `` -&gt; `...49`
• `` -&gt; `...50`
• `` -&gt; `...51`
• `` -&gt; `...52`
• `` -&gt; `...53`
• `` -&gt; `...54`
• `` -&gt; `...55`
• `` -&gt; `...56`
• `` -&gt; `...57`
• `` -&gt; `...58`
• `` -&gt; `...59`
• `` -&gt; `...60`
• `` -&gt; `...61`
• `` -&gt; `...62`
• `` -&gt; `...63`
• `` -&gt; `...64`
• `` -&gt; `...65`
• `` -&gt; `...66`
• `` -&gt; `...67`
• `` -&gt; `...68`
• `` -&gt; `...69`
• `` -&gt; `...70`
• `` -&gt; `...71`
• `` -&gt; `...72`
• `` -&gt; `...73`
• `` -&gt; `...74`
• `` -&gt; `...75`
• `` -&gt; `...76`
• `` -&gt; `...77`
• `` -&gt; `...78`
• `` -&gt; `...79`
• `` -&gt; `...80`
• `` -&gt; `...81`
• `` -&gt; `...82`
• `` -&gt; `...83`
• `` -&gt; `...84`
• `` -&gt; `...85`
• `` -&gt; `...86`
• `` -&gt; `...87`
• `` -&gt; `...88`
• `` -&gt; `...89`
• `` -&gt; `...90`
• `` -&gt; `...91`
• `` -&gt; `...92`
• `` -&gt; `...93`
• `` -&gt; `...94`
• `` -&gt; `...95`
• `` -&gt; `...96`
• `` -&gt; `...97`
• `` -&gt; `...98`
• `` -&gt; `...99`
• `` -&gt; `...100`
• `` -&gt; `...101`
• `` -&gt; `...102`
• `` -&gt; `...103`
• `` -&gt; `...104`
• `` -&gt; `...105`
• `` -&gt; `...106`
• `` -&gt; `...107`
• `` -&gt; `...108`
• `` -&gt; `...109`
• `` -&gt; `...110`
• `` -&gt; `...111`
• `` -&gt; `...112`
• `` -&gt; `...113`
• `` -&gt; `...114`
• `` -&gt; `...115`
• `` -&gt; `...116`
• `` -&gt; `...117`
• `` -&gt; `...118`
• `` -&gt; `...119`
• `` -&gt; `...120`
• `` -&gt; `...121`
• `` -&gt; `...122`
• `` -&gt; `...123`
• `` -&gt; `...124`
• `` -&gt; `...125`
• `` -&gt; `...126`
• `` -&gt; `...127`
• `` -&gt; `...128`
• `` -&gt; `...129`
• `` -&gt; `...130`
• `` -&gt; `...131`
• `` -&gt; `...132`
• `` -&gt; `...133`
• `` -&gt; `...134`
• `` -&gt; `...135`
• `` -&gt; `...136`
• `` -&gt; `...137`
• `` -&gt; `...138`
• `` -&gt; `...139`
• `` -&gt; `...140`
• `` -&gt; `...141`
• `` -&gt; `...142`
• `` -&gt; `...143`
• `` -&gt; `...144`
• `` -&gt; `...145`
• `` -&gt; `...146`
• `` -&gt; `...147`
• `` -&gt; `...148`
• `` -&gt; `...149`
• `` -&gt; `...150`
• `` -&gt; `...151`
• `` -&gt; `...152`
• `` -&gt; `...153`
• `` -&gt; `...154`
• `` -&gt; `...155`
• `` -&gt; `...156`
• `` -&gt; `...157`
• `` -&gt; `...158`
• `` -&gt; `...159`
• `` -&gt; `...160`
• `` -&gt; `...161`
• `` -&gt; `...162`
• `` -&gt; `...163`
• `` -&gt; `...164`
• `` -&gt; `...165`
• `` -&gt; `...166`
• `` -&gt; `...167`
• `` -&gt; `...168`
• `` -&gt; `...169`
• `` -&gt; `...170`
• `` -&gt; `...171`
• `` -&gt; `...172`
• `` -&gt; `...173`
• `` -&gt; `...174`
• `` -&gt; `...175`
• `` -&gt; `...176`
• `` -&gt; `...177`
• `` -&gt; `...178`
• `` -&gt; `...179`
• `` -&gt; `...180`
• `` -&gt; `...181`
• `` -&gt; `...182`
• `` -&gt; `...183`
• `` -&gt; `...184`
• `` -&gt; `...185`
• `` -&gt; `...186`
• `` -&gt; `...187`
• `` -&gt; `...188`
• `` -&gt; `...189`
• `` -&gt; `...190`
• `` -&gt; `...191`
• `` -&gt; `...192`
• `` -&gt; `...193`
• `` -&gt; `...194`
• `` -&gt; `...195`
• `` -&gt; `...196`
• `` -&gt; `...197`
• `` -&gt; `...198`
• `` -&gt; `...199`
• `` -&gt; `...200`
• `` -&gt; `...201`
• `` -&gt; `...202`
• `` -&gt; `...203`
• `` -&gt; `...204`
• `` -&gt; `...205`
• `` -&gt; `...206`
• `` -&gt; `...207`
• `` -&gt; `...208`
• `` -&gt; `...209`
• `` -&gt; `...210`
• `` -&gt; `...211`
• `` -&gt; `...212`
• `` -&gt; `...213`
• `` -&gt; `...214`
• `` -&gt; `...215`
• `` -&gt; `...216`
• `` -&gt; `...217`
• `` -&gt; `...218`
• `` -&gt; `...219`
• `` -&gt; `...220`
• `` -&gt; `...221`
• `` -&gt; `...222`
• `` -&gt; `...223`
• `` -&gt; `...224`
• `` -&gt; `...225`
• `` -&gt; `...226`
• `` -&gt; `...227`
• `` -&gt; `...228`
• `` -&gt; `...229`
• `` -&gt; `...230`
• `` -&gt; `...231`
• `` -&gt; `...232`
• `` -&gt; `...233`
• `` -&gt; `...234`
• `` -&gt; `...235`
• `` -&gt; `...236`
• `` -&gt; `...237`
• `` -&gt; `...238`
• `` -&gt; `...239`
• `` -&gt; `...240`
• `` -&gt; `...241`
• `` -&gt; `...242`
• `` -&gt; `...243`
• `` -&gt; `...244`
• `` -&gt; `...245`
• `` -&gt; `...246`
• `` -&gt; `...247`
• `` -&gt; `...248`
• `` -&gt; `...249`
• `` -&gt; `...250`
• `` -&gt; `...251`
• `` -&gt; `...252`
• `` -&gt; `...253`
• `` -&gt; `...254`
• `` -&gt; `...255`
• `` -&gt; `...256`
• `` -&gt; `...257`
• `` -&gt; `...258`
• `` -&gt; `...259`
• `` -&gt; `...260`
• `` -&gt; `...261`
• `` -&gt; `...262`
• `` -&gt; `...263`
• `` -&gt; `...264`
• `` -&gt; `...265`
• `` -&gt; `...266`</code></pre>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>re_exports <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/re_exports.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 191 Columns: 266
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(266): ...1, ...2, ...3, ...4, ...5, ...6, ...7, ...8, ...9, ...10, ...1...
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`
• `` -&gt; `...9`
• `` -&gt; `...10`
• `` -&gt; `...11`
• `` -&gt; `...12`
• `` -&gt; `...13`
• `` -&gt; `...14`
• `` -&gt; `...15`
• `` -&gt; `...16`
• `` -&gt; `...17`
• `` -&gt; `...18`
• `` -&gt; `...19`
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`
• `` -&gt; `...36`
• `` -&gt; `...37`
• `` -&gt; `...38`
• `` -&gt; `...39`
• `` -&gt; `...40`
• `` -&gt; `...41`
• `` -&gt; `...42`
• `` -&gt; `...43`
• `` -&gt; `...44`
• `` -&gt; `...45`
• `` -&gt; `...46`
• `` -&gt; `...47`
• `` -&gt; `...48`
• `` -&gt; `...49`
• `` -&gt; `...50`
• `` -&gt; `...51`
• `` -&gt; `...52`
• `` -&gt; `...53`
• `` -&gt; `...54`
• `` -&gt; `...55`
• `` -&gt; `...56`
• `` -&gt; `...57`
• `` -&gt; `...58`
• `` -&gt; `...59`
• `` -&gt; `...60`
• `` -&gt; `...61`
• `` -&gt; `...62`
• `` -&gt; `...63`
• `` -&gt; `...64`
• `` -&gt; `...65`
• `` -&gt; `...66`
• `` -&gt; `...67`
• `` -&gt; `...68`
• `` -&gt; `...69`
• `` -&gt; `...70`
• `` -&gt; `...71`
• `` -&gt; `...72`
• `` -&gt; `...73`
• `` -&gt; `...74`
• `` -&gt; `...75`
• `` -&gt; `...76`
• `` -&gt; `...77`
• `` -&gt; `...78`
• `` -&gt; `...79`
• `` -&gt; `...80`
• `` -&gt; `...81`
• `` -&gt; `...82`
• `` -&gt; `...83`
• `` -&gt; `...84`
• `` -&gt; `...85`
• `` -&gt; `...86`
• `` -&gt; `...87`
• `` -&gt; `...88`
• `` -&gt; `...89`
• `` -&gt; `...90`
• `` -&gt; `...91`
• `` -&gt; `...92`
• `` -&gt; `...93`
• `` -&gt; `...94`
• `` -&gt; `...95`
• `` -&gt; `...96`
• `` -&gt; `...97`
• `` -&gt; `...98`
• `` -&gt; `...99`
• `` -&gt; `...100`
• `` -&gt; `...101`
• `` -&gt; `...102`
• `` -&gt; `...103`
• `` -&gt; `...104`
• `` -&gt; `...105`
• `` -&gt; `...106`
• `` -&gt; `...107`
• `` -&gt; `...108`
• `` -&gt; `...109`
• `` -&gt; `...110`
• `` -&gt; `...111`
• `` -&gt; `...112`
• `` -&gt; `...113`
• `` -&gt; `...114`
• `` -&gt; `...115`
• `` -&gt; `...116`
• `` -&gt; `...117`
• `` -&gt; `...118`
• `` -&gt; `...119`
• `` -&gt; `...120`
• `` -&gt; `...121`
• `` -&gt; `...122`
• `` -&gt; `...123`
• `` -&gt; `...124`
• `` -&gt; `...125`
• `` -&gt; `...126`
• `` -&gt; `...127`
• `` -&gt; `...128`
• `` -&gt; `...129`
• `` -&gt; `...130`
• `` -&gt; `...131`
• `` -&gt; `...132`
• `` -&gt; `...133`
• `` -&gt; `...134`
• `` -&gt; `...135`
• `` -&gt; `...136`
• `` -&gt; `...137`
• `` -&gt; `...138`
• `` -&gt; `...139`
• `` -&gt; `...140`
• `` -&gt; `...141`
• `` -&gt; `...142`
• `` -&gt; `...143`
• `` -&gt; `...144`
• `` -&gt; `...145`
• `` -&gt; `...146`
• `` -&gt; `...147`
• `` -&gt; `...148`
• `` -&gt; `...149`
• `` -&gt; `...150`
• `` -&gt; `...151`
• `` -&gt; `...152`
• `` -&gt; `...153`
• `` -&gt; `...154`
• `` -&gt; `...155`
• `` -&gt; `...156`
• `` -&gt; `...157`
• `` -&gt; `...158`
• `` -&gt; `...159`
• `` -&gt; `...160`
• `` -&gt; `...161`
• `` -&gt; `...162`
• `` -&gt; `...163`
• `` -&gt; `...164`
• `` -&gt; `...165`
• `` -&gt; `...166`
• `` -&gt; `...167`
• `` -&gt; `...168`
• `` -&gt; `...169`
• `` -&gt; `...170`
• `` -&gt; `...171`
• `` -&gt; `...172`
• `` -&gt; `...173`
• `` -&gt; `...174`
• `` -&gt; `...175`
• `` -&gt; `...176`
• `` -&gt; `...177`
• `` -&gt; `...178`
• `` -&gt; `...179`
• `` -&gt; `...180`
• `` -&gt; `...181`
• `` -&gt; `...182`
• `` -&gt; `...183`
• `` -&gt; `...184`
• `` -&gt; `...185`
• `` -&gt; `...186`
• `` -&gt; `...187`
• `` -&gt; `...188`
• `` -&gt; `...189`
• `` -&gt; `...190`
• `` -&gt; `...191`
• `` -&gt; `...192`
• `` -&gt; `...193`
• `` -&gt; `...194`
• `` -&gt; `...195`
• `` -&gt; `...196`
• `` -&gt; `...197`
• `` -&gt; `...198`
• `` -&gt; `...199`
• `` -&gt; `...200`
• `` -&gt; `...201`
• `` -&gt; `...202`
• `` -&gt; `...203`
• `` -&gt; `...204`
• `` -&gt; `...205`
• `` -&gt; `...206`
• `` -&gt; `...207`
• `` -&gt; `...208`
• `` -&gt; `...209`
• `` -&gt; `...210`
• `` -&gt; `...211`
• `` -&gt; `...212`
• `` -&gt; `...213`
• `` -&gt; `...214`
• `` -&gt; `...215`
• `` -&gt; `...216`
• `` -&gt; `...217`
• `` -&gt; `...218`
• `` -&gt; `...219`
• `` -&gt; `...220`
• `` -&gt; `...221`
• `` -&gt; `...222`
• `` -&gt; `...223`
• `` -&gt; `...224`
• `` -&gt; `...225`
• `` -&gt; `...226`
• `` -&gt; `...227`
• `` -&gt; `...228`
• `` -&gt; `...229`
• `` -&gt; `...230`
• `` -&gt; `...231`
• `` -&gt; `...232`
• `` -&gt; `...233`
• `` -&gt; `...234`
• `` -&gt; `...235`
• `` -&gt; `...236`
• `` -&gt; `...237`
• `` -&gt; `...238`
• `` -&gt; `...239`
• `` -&gt; `...240`
• `` -&gt; `...241`
• `` -&gt; `...242`
• `` -&gt; `...243`
• `` -&gt; `...244`
• `` -&gt; `...245`
• `` -&gt; `...246`
• `` -&gt; `...247`
• `` -&gt; `...248`
• `` -&gt; `...249`
• `` -&gt; `...250`
• `` -&gt; `...251`
• `` -&gt; `...252`
• `` -&gt; `...253`
• `` -&gt; `...254`
• `` -&gt; `...255`
• `` -&gt; `...256`
• `` -&gt; `...257`
• `` -&gt; `...258`
• `` -&gt; `...259`
• `` -&gt; `...260`
• `` -&gt; `...261`
• `` -&gt; `...262`
• `` -&gt; `...263`
• `` -&gt; `...264`
• `` -&gt; `...265`
• `` -&gt; `...266`</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="data-wrangling" class="level2">
<h2 class="anchored" data-anchor-id="data-wrangling">2.3 Data Wrangling</h2>
<section id="processing-imports-data" class="level3">
<h3 class="anchored" data-anchor-id="processing-imports-data">2.3.1 Processing Imports Data</h3>
<p>Let us have a quick glance of the dataframe using the code below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(imports)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 187 × 266
   ...1  ...2  ...3  ...4  ...5  ...6  ...7  ...8  ...9  ...10 ...11 ...12 ...13
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
 1 Them… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 2 Subj… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 3 Topi… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 4 Tabl… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 5 &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 6 Data… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 7 Sour… &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 8 &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
 9 &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
10 Data… 2025… 2024… 2024… 2024… 2024… 2024… 2024… 2024… 2024… 2024… 2024… 2024…
# ℹ 177 more rows
# ℹ 253 more variables: ...14 &lt;chr&gt;, ...15 &lt;chr&gt;, ...16 &lt;chr&gt;, ...17 &lt;chr&gt;,
#   ...18 &lt;chr&gt;, ...19 &lt;chr&gt;, ...20 &lt;chr&gt;, ...21 &lt;chr&gt;, ...22 &lt;chr&gt;,
#   ...23 &lt;chr&gt;, ...24 &lt;chr&gt;, ...25 &lt;chr&gt;, ...26 &lt;chr&gt;, ...27 &lt;chr&gt;,
#   ...28 &lt;chr&gt;, ...29 &lt;chr&gt;, ...30 &lt;chr&gt;, ...31 &lt;chr&gt;, ...32 &lt;chr&gt;,
#   ...33 &lt;chr&gt;, ...34 &lt;chr&gt;, ...35 &lt;chr&gt;, ...36 &lt;chr&gt;, ...37 &lt;chr&gt;,
#   ...38 &lt;chr&gt;, ...39 &lt;chr&gt;, ...40 &lt;chr&gt;, ...41 &lt;chr&gt;, ...42 &lt;chr&gt;, …</code></pre>
</div>
</div>
<p>For more enhanced analysis, let us split the dataframe into 2, by continent and by country</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Country Level</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Continent Level</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>, <span class="dv">171</span><span class="sc">:</span><span class="dv">187</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(imports_country) <span class="ot">&lt;-</span> imports_country[<span class="dv">1</span>, ]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(imports_country)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>imports_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  imports_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports[<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(imports_continent) <span class="ot">&lt;-</span> imports_continent[<span class="dv">1</span>, ]</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(imports_continent)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>imports_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  imports_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="processing-domestic-exports-data" class="level3">
<h3 class="anchored" data-anchor-id="processing-domestic-exports-data">2.3.2 Processing Domestic Exports Data</h3>
<p>Let us apply the same steps to both domestic exports and re-exports dataframe</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Country Level</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Continent Level</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> dom_exports[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>, <span class="dv">171</span><span class="sc">:</span><span class="dv">191</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(domexp_country) <span class="ot">&lt;-</span> domexp_country[<span class="dv">1</span>, ]</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(domexp_country)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>domexp_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  domexp_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>domexp_country <span class="ot">&lt;-</span> domexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> dom_exports[<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(domexp_continent) <span class="ot">&lt;-</span> domexp_continent[<span class="dv">1</span>, ]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(domexp_continent)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>domexp_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  domexp_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>domexp_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="processing-re-exports-data" class="level3">
<h3 class="anchored" data-anchor-id="processing-re-exports-data">2.3.3 Processing Re-Exports Data</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Country Level</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Continent Level</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> re_exports[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>, <span class="dv">171</span><span class="sc">:</span><span class="dv">191</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(reexp_country) <span class="ot">&lt;-</span> reexp_country[<span class="dv">1</span>, ]</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(reexp_country)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>reexp_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  reexp_country<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>reexp_country <span class="ot">&lt;-</span> reexp_country <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> re_exports[<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">12</span>, <span class="dv">43</span>, <span class="dv">85</span>, <span class="dv">121</span>, <span class="dv">136</span>), ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(reexp_continent) <span class="ot">&lt;-</span> reexp_continent[<span class="dv">1</span>, ]</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent[<span class="sc">-</span><span class="dv">1</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">names_to =</span> <span class="st">"Date"</span>, <span class="at">values_to =</span> <span class="st">"Value"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">colnames</span>(reexp_continent)[<span class="dv">1</span>], <span class="at">values_from =</span> <span class="st">"Value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>reexp_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span> <span class="ot">&lt;-</span> <span class="fu">ym</span>(</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  reexp_continent<span class="sc">$</span><span class="st">`</span><span class="at">Date</span><span class="st">`</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="sc">-</span>Date, as.numeric)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">year</span>(Date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>reexp_continent <span class="ot">&lt;-</span> reexp_continent <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="combining-domestic-exports-and-re-exports-data" class="level3">
<h3 class="anchored" data-anchor-id="combining-domestic-exports-and-re-exports-data">2.3.4 Combining Domestic Exports and Re-Exports Data</h3>
<p>Using the code chunk below, we will combine both domestic exports and re-exports data</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Country</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Continent</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>exports_country <span class="ot">&lt;-</span> domexp_country <span class="sc">+</span> reexp_country</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>exports_country<span class="sc">$</span>Year <span class="ot">&lt;-</span> domexp_country<span class="sc">$</span>Year</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>exports_country <span class="ot">&lt;-</span> exports_country <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>exports_continent <span class="ot">&lt;-</span> domexp_continent <span class="sc">+</span> reexp_continent</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>exports_continent<span class="sc">$</span>Year <span class="ot">&lt;-</span> domexp_continent<span class="sc">$</span>Year</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>exports_continent <span class="ot">&lt;-</span> exports_continent <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="joining-import-and-export-data" class="level3">
<h3 class="anchored" data-anchor-id="joining-import-and-export-data">2.3.5 Joining Import and Export Data</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Country Level</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Continent Level</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>exports_country <span class="ot">&lt;-</span> exports_country <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">"Exports"</span>)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>imports_country <span class="ot">&lt;-</span> imports_country <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">"Imports"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>trade_country <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(exports_country, imports_country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>trade_country <span class="ot">&lt;-</span> trade_country <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>trade_country <span class="ot">&lt;-</span> trade_country <span class="sc">%&gt;%</span> <span class="fu">select</span>(Year, Type, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>exports_continent <span class="ot">&lt;-</span> exports_continent <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">"Exports"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>imports_continent <span class="ot">&lt;-</span> imports_continent <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Type =</span> <span class="st">"Imports"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>trade_continent <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(exports_continent, imports_continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>trade_continent <span class="ot">&lt;-</span> trade_continent <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(Year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>trade_continent <span class="ot">&lt;-</span> trade_continent <span class="sc">%&gt;%</span> <span class="fu">select</span>(Year, Type, <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="save-data" class="level2">
<h2 class="anchored" data-anchor-id="save-data">2.4 Save Data</h2>
<p>For easier usage of cleaned dataframe, let us save it to csv file and load it to R environment</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(trade_country, <span class="st">"data/trade_country.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(trade_continent, <span class="st">"data/trade_continent.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-final-data" class="level2">
<h2 class="anchored" data-anchor-id="load-final-data">2.5 Load Final Data</h2>
<p>Finally, use the code below to load the final dataframe to R environment</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>trade_country <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/trade_country.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 46 Columns: 156
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr   (1): Type
dbl (155): Year, Antigua And Barbuda, Argentina, Bahamas, Bermuda, Brazil, C...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>trade_continent <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/trade_continent.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 46 Columns: 7
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (1): Type
dbl (6): Year, America, Asia, Europe, Oceania, Africa

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
</section>
</section>
<section id="data-visualization" class="level1">
<h1>3 Data Visualization</h1>
<p>To begin with the imports and exports analysis, we are going to refer to the SingStat website to look up 3 visualisations that we find interesting. However, to enhance the analysis, we will comment the pros and cons of each visual reference and create an improved version of the visuals.</p>
<section id="comments-on-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="comments-on-visualizations">3.1 Comments on Visualizations</h2>
<p>Let us begin this section with the pros and cons of 3 visualisations.</p>
<section id="total-merchandise-trade-at-current-price-2020-2024" class="level3">
<h3 class="anchored" data-anchor-id="total-merchandise-trade-at-current-price-2020-2024">3.1.1 Total Merchandise Trade at Current Price, 2020-2024</h3>
<p>Let us take a look at the first visualization for total merchandise trade in 2020-2024.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Visual Make-Over</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<p>The figure below is showing the total merchandise trade comparison for each year from 2020-2024. What could be improved from this data visualisation?</p>
<p><img src="images/clipboard-471416878.png" class="img-fluid"></p>
<p><strong>Pros:</strong></p>
<ol type="1">
<li>The visual design of the horizontal bar chart fits the theme of the data presented, which helps audience understand the context efficiently</li>
<li>The data is sorted in descending order based on the year, showing the latest year data on top of the chart, which allows audience to view the most recent information first</li>
</ol>
<p><strong>Cons:</strong></p>
<ol type="1">
<li>The purpose of this chart is to compare the import and export of each year stated. However, the bar chart spacing does not indicate this comparison. To properly show the comparison, it should be visualized as clustered bar chart, where there is extra spacing for different years</li>
<li>Although the choice of color palette is aesthetically nice, the color for all “imports” and all “exports” should be consistent and the legend should be shown in the chart. The current color does not highlight the difference between import and export as it is the same color with different opacity level</li>
</ol>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>trade_summary <span class="ot">&lt;-</span> trade_continent <span class="sc">%&gt;%</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Year <span class="sc">&gt;=</span> <span class="dv">2020</span> <span class="sc">&amp;</span> Year <span class="sc">&lt;=</span> <span class="dv">2024</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year, Type) <span class="sc">%&gt;%</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Total =</span> <span class="fu">sum</span>(America, Asia, Europe, Oceania, Africa, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">.groups =</span> <span class="st">"drop"</span>)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>trade_summary<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">factor</span>(trade_summary<span class="sc">$</span>Year, <span class="at">levels =</span> <span class="fu">sort</span>(<span class="fu">unique</span>(trade_summary<span class="sc">$</span>Year), <span class="at">decreasing =</span> <span class="cn">FALSE</span>))</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trade_summary, <span class="fu">aes</span>(<span class="at">y =</span> Year, <span class="at">x =</span> Total <span class="sc">/</span> <span class="dv">1000</span>, <span class="at">fill =</span> Type)) <span class="sc">+</span>  </span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.6</span>), <span class="at">width =</span> <span class="fl">0.5</span>) <span class="sc">+</span>  </span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Exports"</span> <span class="ot">=</span> <span class="st">"skyblue"</span>, <span class="st">"Imports"</span> <span class="ot">=</span> <span class="st">"lightcoral"</span>)) <span class="sc">+</span> </span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"OVERALL EXPORTS AND IMPORTS OF SERVICES, 2020-2024"</span>,</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"S$ Billion"</span>, <span class="at">y =</span> <span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span>  </span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">16</span>), </span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#E3ECF1"</span>, <span class="at">color =</span> <span class="cn">NA</span>)</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(Total <span class="sc">/</span> <span class="dv">1000</span>, <span class="dv">1</span>)), </span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.6</span>), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.3</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="at">data =</span> trade_summary <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Year) <span class="sc">%&gt;%</span></span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a>               <span class="fu">summarise</span>(<span class="at">Total =</span> <span class="fu">sum</span>(Total) <span class="sc">/</span> <span class="dv">1000</span>, <span class="at">.groups =</span> <span class="st">"drop"</span>), </span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">y =</span> Year, <span class="at">x =</span> <span class="dv">900</span>,  </span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>                 <span class="at">label =</span> <span class="fu">paste0</span>(<span class="st">"Total: S$ "</span>, <span class="fu">round</span>(Total, <span class="dv">1</span>), <span class="st">"B"</span>)),</span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a>             <span class="at">fill =</span> <span class="st">"white"</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">fontface =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">4</span>, </span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">label.size =</span> <span class="fl">0.3</span>, <span class="at">label.r =</span> <span class="fu">unit</span>(<span class="dv">5</span>, <span class="st">"pt"</span>)) <span class="sc">+</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1000</span>),</span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_number</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>What are the key improvements on this visual?</p>
<ol type="1">
<li>The colors are standardized for both imports and exports, it ensures a clear definition of imports value and exports value.</li>
<li>The charts are clustered and grouped in years, showing a significant gap between every year’s data.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="merchandise-trade-performance-with-major-trading-partners-2024" class="level3">
<h3 class="anchored" data-anchor-id="merchandise-trade-performance-with-major-trading-partners-2024">3.1.2 Merchandise Trade Performance With Major Trading Partners, 2024</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Visual Make-Over</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<p>The figure below represents the total merchandise trade of the top 10 countries in 2024. Let us discuss the pros and cons of the visual shown below.</p>
<p><img src="images/clipboard-2874159398.png" class="img-fluid"></p>
<p><strong>Pros:</strong></p>
<ol type="1">
<li>The different bubble sizes that reflects the trade value with each country helps to highlight the countries with highest values more quickly.</li>
<li>The x-axis and y-axis range is symmetrical, showing accurate representations. Moreover, as the chart is diagonally split, it highlights whether the country has more export or import values.</li>
</ol>
<p><strong>Cons:</strong></p>
<ol type="1">
<li>The placement of x-label and y-label is too close and can be misleading at first sight. For better visualisation, the label should be put at the other end of the line to avoid misinterpretations.</li>
<li>The color representing each country does not give any significant insight. Instead,</li>
</ol>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<p>Before the make-over, let us do some data wrangling to match the original visualisation’s data structure. First, let us filter to 2024 data using the code below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>trade <span class="ot">&lt;-</span> trade_country <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Year <span class="sc">==</span> <span class="dv">2024</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As the original visual shows the <strong>European Union</strong>, let us group all the countries that are part of the European Union.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>eu_countries <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Austria'</span>, <span class="st">'Belgium'</span>, <span class="st">'Bulgaria'</span>, <span class="st">'Croatia'</span>, <span class="st">'Cyprus'</span>,</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Czech Rep'</span>, <span class="st">'Denmark'</span>, <span class="st">'Estonia'</span>, <span class="st">'Finland'</span>, <span class="st">'France'</span>,</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Germany'</span>, <span class="st">'Greece'</span>, <span class="st">'Hungary'</span>, <span class="st">'Ireland'</span>, <span class="st">'Italy'</span>, <span class="st">'Latvia'</span>,</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Lithuania'</span>, <span class="st">'Luxembourg'</span>, <span class="st">'Malta'</span>, <span class="st">'Netherlands'</span>, <span class="st">'Poland'</span>,</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Portugal'</span>, <span class="st">'Romania'</span>, <span class="st">'Slovakia'</span>, <span class="st">'Slovenia'</span>, <span class="st">'Spain'</span>, </span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>                  <span class="st">'Svalbard And Jan Mayen Islands'</span>,<span class="st">'Sweden'</span>)</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a>trade<span class="sc">$</span>EU <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(trade[eu_countries])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, let us pivot back the data and change the values from millions to billions using the code below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>trade <span class="ot">&lt;-</span> trade <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="fu">c</span>(Year, Type), <span class="at">names_to =</span> <span class="st">"Country"</span>, <span class="at">values_to =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Type, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span> </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Imports =</span> Imports<span class="sc">/</span><span class="dv">1000</span>,</span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">Exports =</span> Exports<span class="sc">/</span><span class="dv">1000</span></span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let us define the color and the opacity of each country based on the imports or exports value. If exports value is higher, it will show green color, and blue if otherwise. The opacity represents how big the amount of the imports or exports in each country. The more solid the color, means the higher the trade value is.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>trade <span class="ot">&lt;-</span> trade <span class="sc">%&gt;%</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_trade =</span> Imports <span class="sc">+</span> Exports,</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">color =</span> <span class="fu">ifelse</span>(Exports <span class="sc">&gt;</span> Imports, </span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">rgb</span>(<span class="dv">34</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">139</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">34</span><span class="sc">/</span><span class="dv">255</span>, <span class="at">alpha =</span> <span class="dv">1</span>),</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>                   <span class="fu">rgb</span>(<span class="dv">70</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">130</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">180</span><span class="sc">/</span><span class="dv">255</span>, <span class="at">alpha =</span> <span class="dv">1</span>)</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="fu">ifelse</span>(Exports <span class="sc">&gt;</span> Imports, </span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>                 <span class="fl">0.5</span> <span class="sc">+</span> (<span class="fl">0.7</span> <span class="sc">*</span> Exports <span class="sc">/</span> <span class="fu">max</span>(Exports, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>                 <span class="fl">0.5</span> <span class="sc">+</span> (<span class="fl">0.7</span> <span class="sc">*</span> Imports <span class="sc">/</span> <span class="fu">max</span>(Imports, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>trade <span class="ot">&lt;-</span> trade <span class="sc">%&gt;%</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_trade)) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(trade, <span class="fu">aes</span>(<span class="at">x =</span> Exports, <span class="at">y =</span> Imports)) <span class="sc">+</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_tile</span>(<span class="at">data =</span> <span class="fu">expand.grid</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="fl">0.5</span>),  </span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>                             <span class="at">y =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="at">by =</span> <span class="fl">0.5</span>)), </span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y, <span class="at">fill =</span> x <span class="sc">&gt;</span> y), <span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">height =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"TRUE"</span> <span class="ot">=</span> <span class="fu">rgb</span>(<span class="dv">200</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">255</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">200</span><span class="sc">/</span><span class="dv">255</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>),</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"FALSE"</span> <span class="ot">=</span> <span class="fu">rgb</span>(<span class="dv">173</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">216</span><span class="sc">/</span><span class="dv">255</span>, <span class="dv">230</span><span class="sc">/</span><span class="dv">255</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> color, <span class="at">alpha =</span> opacity), <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">size =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb79-11"><a href="#cb79-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-12"><a href="#cb79-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste</span>(Country, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>, <span class="fu">round</span>(total_trade, <span class="dv">1</span>))), </span>
<span id="cb79-13"><a href="#cb79-13" aria-hidden="true" tabindex="-1"></a>              <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb79-14"><a href="#cb79-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-15"><a href="#cb79-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slope =</span> <span class="dv">1</span>, <span class="at">linetype =</span> <span class="cn">NA</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb79-16"><a href="#cb79-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">10</span>), <span class="at">minor_breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb79-17"><a href="#cb79-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="dv">10</span>), <span class="at">minor_breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb79-18"><a href="#cb79-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Exports (S$ Billion)"</span>, <span class="at">y =</span> <span class="st">"Imports (S$ Billion)"</span>,</span>
<span id="cb79-19"><a href="#cb79-19" aria-hidden="true" tabindex="-1"></a>         <span class="at">title =</span> <span class="st">"Merchandise Trade Performance With Major Trading Partners (2024)"</span>) <span class="sc">+</span></span>
<span id="cb79-20"><a href="#cb79-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_color_identity</span>() <span class="sc">+</span></span>
<span id="cb79-21"><a href="#cb79-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_alpha_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="fl">0.1</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb79-22"><a href="#cb79-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb79-23"><a href="#cb79-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(</span>
<span id="cb79-24"><a href="#cb79-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust=</span><span class="fl">0.5</span>),</span>
<span id="cb79-25"><a href="#cb79-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"whitesmoke"</span>, <span class="at">size =</span> <span class="fl">0.4</span>),</span>
<span id="cb79-26"><a href="#cb79-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb79-27"><a href="#cb79-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"transparent"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb79-28"><a href="#cb79-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"transparent"</span>, <span class="at">color =</span> <span class="cn">NA</span>),</span>
<span id="cb79-29"><a href="#cb79-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb79-30"><a href="#cb79-30" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
ℹ Please use the `linewidth` argument instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 800 rows containing missing values or values outside the scale range
(`geom_tile()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_segment()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-73-1.png" class="img-fluid figure-img" width="768"></p>
</figure>
</div>
</div>
</div>
<p>How is this visual different from the original visualisation?</p>
<ol type="1">
<li>Instead of representing each country with different colors, each dot color represents whether the exports or imports value dominates the overall trade value, where green represents exports and blue represents imports</li>
<li>The opacity level shows how big the amount of exports or imports with each trading partners.</li>
<li>The x-label and y-label is re-positioned to avoid misinterpretation of axis values.</li>
</ol>
</div>
</div>
</div>
</section>
<section id="non-oil-domestic-exports-2024" class="level3">
<h3 class="anchored" data-anchor-id="non-oil-domestic-exports-2024">3.1.3 Non-Oil Domestic Exports (2024)</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Original</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Visual Make-Over</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<p>Now let us have a look at the final visualisation, showing the non-oil domestic exports by major commodity sections in 2024. It shows the percentage of share of each non-oil goods trade category. Let us examine the pros and cons of the following visualisation.</p>
<p><img src="images/clipboard-3962379803.png" class="img-fluid"></p>
<p><strong>Pros:</strong></p>
<ol type="1">
<li>The visual above shows a detailed insight of each non-oil goods, showing both trade values and the percentage of share clearly.</li>
<li>Each category is highlighted in different color palettes, highlighting different goods under non-oil category.</li>
</ol>
<p><strong>Cons:</strong></p>
<ol type="1">
<li>The data is stacked into one bar. Although it visually fits the concept of the data presented, the data only shows the data for year 2024, hence, it will be better if it is separated into different bars for better readability.</li>
<li>The values are not sorted and it is uses both left and right side of the bar chart. It is not very efficient for readers as it may take sometime to figure out the category of each bar stack. It also can be misleading as the value is in random order.</li>
</ol>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div data-details="Click to Expand">
<p>Before showing the visual make-over, it is necessary to do some data wrangling as it is from different data source, which is the <strong>Merchandise Trade by Commodity Section</strong> <strong>(At Current Price), Monthly</strong> dataset. Let us prepare the data using the code below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>nonoil <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/nonoil.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 105 Columns: 734
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(734): ...1, ...2, ...3, ...4, ...5, ...6, ...7, ...8, ...9, ...10, ...1...
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...1`
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`
• `` -&gt; `...9`
• `` -&gt; `...10`
• `` -&gt; `...11`
• `` -&gt; `...12`
• `` -&gt; `...13`
• `` -&gt; `...14`
• `` -&gt; `...15`
• `` -&gt; `...16`
• `` -&gt; `...17`
• `` -&gt; `...18`
• `` -&gt; `...19`
• `` -&gt; `...20`
• `` -&gt; `...21`
• `` -&gt; `...22`
• `` -&gt; `...23`
• `` -&gt; `...24`
• `` -&gt; `...25`
• `` -&gt; `...26`
• `` -&gt; `...27`
• `` -&gt; `...28`
• `` -&gt; `...29`
• `` -&gt; `...30`
• `` -&gt; `...31`
• `` -&gt; `...32`
• `` -&gt; `...33`
• `` -&gt; `...34`
• `` -&gt; `...35`
• `` -&gt; `...36`
• `` -&gt; `...37`
• `` -&gt; `...38`
• `` -&gt; `...39`
• `` -&gt; `...40`
• `` -&gt; `...41`
• `` -&gt; `...42`
• `` -&gt; `...43`
• `` -&gt; `...44`
• `` -&gt; `...45`
• `` -&gt; `...46`
• `` -&gt; `...47`
• `` -&gt; `...48`
• `` -&gt; `...49`
• `` -&gt; `...50`
• `` -&gt; `...51`
• `` -&gt; `...52`
• `` -&gt; `...53`
• `` -&gt; `...54`
• `` -&gt; `...55`
• `` -&gt; `...56`
• `` -&gt; `...57`
• `` -&gt; `...58`
• `` -&gt; `...59`
• `` -&gt; `...60`
• `` -&gt; `...61`
• `` -&gt; `...62`
• `` -&gt; `...63`
• `` -&gt; `...64`
• `` -&gt; `...65`
• `` -&gt; `...66`
• `` -&gt; `...67`
• `` -&gt; `...68`
• `` -&gt; `...69`
• `` -&gt; `...70`
• `` -&gt; `...71`
• `` -&gt; `...72`
• `` -&gt; `...73`
• `` -&gt; `...74`
• `` -&gt; `...75`
• `` -&gt; `...76`
• `` -&gt; `...77`
• `` -&gt; `...78`
• `` -&gt; `...79`
• `` -&gt; `...80`
• `` -&gt; `...81`
• `` -&gt; `...82`
• `` -&gt; `...83`
• `` -&gt; `...84`
• `` -&gt; `...85`
• `` -&gt; `...86`
• `` -&gt; `...87`
• `` -&gt; `...88`
• `` -&gt; `...89`
• `` -&gt; `...90`
• `` -&gt; `...91`
• `` -&gt; `...92`
• `` -&gt; `...93`
• `` -&gt; `...94`
• `` -&gt; `...95`
• `` -&gt; `...96`
• `` -&gt; `...97`
• `` -&gt; `...98`
• `` -&gt; `...99`
• `` -&gt; `...100`
• `` -&gt; `...101`
• `` -&gt; `...102`
• `` -&gt; `...103`
• `` -&gt; `...104`
• `` -&gt; `...105`
• `` -&gt; `...106`
• `` -&gt; `...107`
• `` -&gt; `...108`
• `` -&gt; `...109`
• `` -&gt; `...110`
• `` -&gt; `...111`
• `` -&gt; `...112`
• `` -&gt; `...113`
• `` -&gt; `...114`
• `` -&gt; `...115`
• `` -&gt; `...116`
• `` -&gt; `...117`
• `` -&gt; `...118`
• `` -&gt; `...119`
• `` -&gt; `...120`
• `` -&gt; `...121`
• `` -&gt; `...122`
• `` -&gt; `...123`
• `` -&gt; `...124`
• `` -&gt; `...125`
• `` -&gt; `...126`
• `` -&gt; `...127`
• `` -&gt; `...128`
• `` -&gt; `...129`
• `` -&gt; `...130`
• `` -&gt; `...131`
• `` -&gt; `...132`
• `` -&gt; `...133`
• `` -&gt; `...134`
• `` -&gt; `...135`
• `` -&gt; `...136`
• `` -&gt; `...137`
• `` -&gt; `...138`
• `` -&gt; `...139`
• `` -&gt; `...140`
• `` -&gt; `...141`
• `` -&gt; `...142`
• `` -&gt; `...143`
• `` -&gt; `...144`
• `` -&gt; `...145`
• `` -&gt; `...146`
• `` -&gt; `...147`
• `` -&gt; `...148`
• `` -&gt; `...149`
• `` -&gt; `...150`
• `` -&gt; `...151`
• `` -&gt; `...152`
• `` -&gt; `...153`
• `` -&gt; `...154`
• `` -&gt; `...155`
• `` -&gt; `...156`
• `` -&gt; `...157`
• `` -&gt; `...158`
• `` -&gt; `...159`
• `` -&gt; `...160`
• `` -&gt; `...161`
• `` -&gt; `...162`
• `` -&gt; `...163`
• `` -&gt; `...164`
• `` -&gt; `...165`
• `` -&gt; `...166`
• `` -&gt; `...167`
• `` -&gt; `...168`
• `` -&gt; `...169`
• `` -&gt; `...170`
• `` -&gt; `...171`
• `` -&gt; `...172`
• `` -&gt; `...173`
• `` -&gt; `...174`
• `` -&gt; `...175`
• `` -&gt; `...176`
• `` -&gt; `...177`
• `` -&gt; `...178`
• `` -&gt; `...179`
• `` -&gt; `...180`
• `` -&gt; `...181`
• `` -&gt; `...182`
• `` -&gt; `...183`
• `` -&gt; `...184`
• `` -&gt; `...185`
• `` -&gt; `...186`
• `` -&gt; `...187`
• `` -&gt; `...188`
• `` -&gt; `...189`
• `` -&gt; `...190`
• `` -&gt; `...191`
• `` -&gt; `...192`
• `` -&gt; `...193`
• `` -&gt; `...194`
• `` -&gt; `...195`
• `` -&gt; `...196`
• `` -&gt; `...197`
• `` -&gt; `...198`
• `` -&gt; `...199`
• `` -&gt; `...200`
• `` -&gt; `...201`
• `` -&gt; `...202`
• `` -&gt; `...203`
• `` -&gt; `...204`
• `` -&gt; `...205`
• `` -&gt; `...206`
• `` -&gt; `...207`
• `` -&gt; `...208`
• `` -&gt; `...209`
• `` -&gt; `...210`
• `` -&gt; `...211`
• `` -&gt; `...212`
• `` -&gt; `...213`
• `` -&gt; `...214`
• `` -&gt; `...215`
• `` -&gt; `...216`
• `` -&gt; `...217`
• `` -&gt; `...218`
• `` -&gt; `...219`
• `` -&gt; `...220`
• `` -&gt; `...221`
• `` -&gt; `...222`
• `` -&gt; `...223`
• `` -&gt; `...224`
• `` -&gt; `...225`
• `` -&gt; `...226`
• `` -&gt; `...227`
• `` -&gt; `...228`
• `` -&gt; `...229`
• `` -&gt; `...230`
• `` -&gt; `...231`
• `` -&gt; `...232`
• `` -&gt; `...233`
• `` -&gt; `...234`
• `` -&gt; `...235`
• `` -&gt; `...236`
• `` -&gt; `...237`
• `` -&gt; `...238`
• `` -&gt; `...239`
• `` -&gt; `...240`
• `` -&gt; `...241`
• `` -&gt; `...242`
• `` -&gt; `...243`
• `` -&gt; `...244`
• `` -&gt; `...245`
• `` -&gt; `...246`
• `` -&gt; `...247`
• `` -&gt; `...248`
• `` -&gt; `...249`
• `` -&gt; `...250`
• `` -&gt; `...251`
• `` -&gt; `...252`
• `` -&gt; `...253`
• `` -&gt; `...254`
• `` -&gt; `...255`
• `` -&gt; `...256`
• `` -&gt; `...257`
• `` -&gt; `...258`
• `` -&gt; `...259`
• `` -&gt; `...260`
• `` -&gt; `...261`
• `` -&gt; `...262`
• `` -&gt; `...263`
• `` -&gt; `...264`
• `` -&gt; `...265`
• `` -&gt; `...266`
• `` -&gt; `...267`
• `` -&gt; `...268`
• `` -&gt; `...269`
• `` -&gt; `...270`
• `` -&gt; `...271`
• `` -&gt; `...272`
• `` -&gt; `...273`
• `` -&gt; `...274`
• `` -&gt; `...275`
• `` -&gt; `...276`
• `` -&gt; `...277`
• `` -&gt; `...278`
• `` -&gt; `...279`
• `` -&gt; `...280`
• `` -&gt; `...281`
• `` -&gt; `...282`
• `` -&gt; `...283`
• `` -&gt; `...284`
• `` -&gt; `...285`
• `` -&gt; `...286`
• `` -&gt; `...287`
• `` -&gt; `...288`
• `` -&gt; `...289`
• `` -&gt; `...290`
• `` -&gt; `...291`
• `` -&gt; `...292`
• `` -&gt; `...293`
• `` -&gt; `...294`
• `` -&gt; `...295`
• `` -&gt; `...296`
• `` -&gt; `...297`
• `` -&gt; `...298`
• `` -&gt; `...299`
• `` -&gt; `...300`
• `` -&gt; `...301`
• `` -&gt; `...302`
• `` -&gt; `...303`
• `` -&gt; `...304`
• `` -&gt; `...305`
• `` -&gt; `...306`
• `` -&gt; `...307`
• `` -&gt; `...308`
• `` -&gt; `...309`
• `` -&gt; `...310`
• `` -&gt; `...311`
• `` -&gt; `...312`
• `` -&gt; `...313`
• `` -&gt; `...314`
• `` -&gt; `...315`
• `` -&gt; `...316`
• `` -&gt; `...317`
• `` -&gt; `...318`
• `` -&gt; `...319`
• `` -&gt; `...320`
• `` -&gt; `...321`
• `` -&gt; `...322`
• `` -&gt; `...323`
• `` -&gt; `...324`
• `` -&gt; `...325`
• `` -&gt; `...326`
• `` -&gt; `...327`
• `` -&gt; `...328`
• `` -&gt; `...329`
• `` -&gt; `...330`
• `` -&gt; `...331`
• `` -&gt; `...332`
• `` -&gt; `...333`
• `` -&gt; `...334`
• `` -&gt; `...335`
• `` -&gt; `...336`
• `` -&gt; `...337`
• `` -&gt; `...338`
• `` -&gt; `...339`
• `` -&gt; `...340`
• `` -&gt; `...341`
• `` -&gt; `...342`
• `` -&gt; `...343`
• `` -&gt; `...344`
• `` -&gt; `...345`
• `` -&gt; `...346`
• `` -&gt; `...347`
• `` -&gt; `...348`
• `` -&gt; `...349`
• `` -&gt; `...350`
• `` -&gt; `...351`
• `` -&gt; `...352`
• `` -&gt; `...353`
• `` -&gt; `...354`
• `` -&gt; `...355`
• `` -&gt; `...356`
• `` -&gt; `...357`
• `` -&gt; `...358`
• `` -&gt; `...359`
• `` -&gt; `...360`
• `` -&gt; `...361`
• `` -&gt; `...362`
• `` -&gt; `...363`
• `` -&gt; `...364`
• `` -&gt; `...365`
• `` -&gt; `...366`
• `` -&gt; `...367`
• `` -&gt; `...368`
• `` -&gt; `...369`
• `` -&gt; `...370`
• `` -&gt; `...371`
• `` -&gt; `...372`
• `` -&gt; `...373`
• `` -&gt; `...374`
• `` -&gt; `...375`
• `` -&gt; `...376`
• `` -&gt; `...377`
• `` -&gt; `...378`
• `` -&gt; `...379`
• `` -&gt; `...380`
• `` -&gt; `...381`
• `` -&gt; `...382`
• `` -&gt; `...383`
• `` -&gt; `...384`
• `` -&gt; `...385`
• `` -&gt; `...386`
• `` -&gt; `...387`
• `` -&gt; `...388`
• `` -&gt; `...389`
• `` -&gt; `...390`
• `` -&gt; `...391`
• `` -&gt; `...392`
• `` -&gt; `...393`
• `` -&gt; `...394`
• `` -&gt; `...395`
• `` -&gt; `...396`
• `` -&gt; `...397`
• `` -&gt; `...398`
• `` -&gt; `...399`
• `` -&gt; `...400`
• `` -&gt; `...401`
• `` -&gt; `...402`
• `` -&gt; `...403`
• `` -&gt; `...404`
• `` -&gt; `...405`
• `` -&gt; `...406`
• `` -&gt; `...407`
• `` -&gt; `...408`
• `` -&gt; `...409`
• `` -&gt; `...410`
• `` -&gt; `...411`
• `` -&gt; `...412`
• `` -&gt; `...413`
• `` -&gt; `...414`
• `` -&gt; `...415`
• `` -&gt; `...416`
• `` -&gt; `...417`
• `` -&gt; `...418`
• `` -&gt; `...419`
• `` -&gt; `...420`
• `` -&gt; `...421`
• `` -&gt; `...422`
• `` -&gt; `...423`
• `` -&gt; `...424`
• `` -&gt; `...425`
• `` -&gt; `...426`
• `` -&gt; `...427`
• `` -&gt; `...428`
• `` -&gt; `...429`
• `` -&gt; `...430`
• `` -&gt; `...431`
• `` -&gt; `...432`
• `` -&gt; `...433`
• `` -&gt; `...434`
• `` -&gt; `...435`
• `` -&gt; `...436`
• `` -&gt; `...437`
• `` -&gt; `...438`
• `` -&gt; `...439`
• `` -&gt; `...440`
• `` -&gt; `...441`
• `` -&gt; `...442`
• `` -&gt; `...443`
• `` -&gt; `...444`
• `` -&gt; `...445`
• `` -&gt; `...446`
• `` -&gt; `...447`
• `` -&gt; `...448`
• `` -&gt; `...449`
• `` -&gt; `...450`
• `` -&gt; `...451`
• `` -&gt; `...452`
• `` -&gt; `...453`
• `` -&gt; `...454`
• `` -&gt; `...455`
• `` -&gt; `...456`
• `` -&gt; `...457`
• `` -&gt; `...458`
• `` -&gt; `...459`
• `` -&gt; `...460`
• `` -&gt; `...461`
• `` -&gt; `...462`
• `` -&gt; `...463`
• `` -&gt; `...464`
• `` -&gt; `...465`
• `` -&gt; `...466`
• `` -&gt; `...467`
• `` -&gt; `...468`
• `` -&gt; `...469`
• `` -&gt; `...470`
• `` -&gt; `...471`
• `` -&gt; `...472`
• `` -&gt; `...473`
• `` -&gt; `...474`
• `` -&gt; `...475`
• `` -&gt; `...476`
• `` -&gt; `...477`
• `` -&gt; `...478`
• `` -&gt; `...479`
• `` -&gt; `...480`
• `` -&gt; `...481`
• `` -&gt; `...482`
• `` -&gt; `...483`
• `` -&gt; `...484`
• `` -&gt; `...485`
• `` -&gt; `...486`
• `` -&gt; `...487`
• `` -&gt; `...488`
• `` -&gt; `...489`
• `` -&gt; `...490`
• `` -&gt; `...491`
• `` -&gt; `...492`
• `` -&gt; `...493`
• `` -&gt; `...494`
• `` -&gt; `...495`
• `` -&gt; `...496`
• `` -&gt; `...497`
• `` -&gt; `...498`
• `` -&gt; `...499`
• `` -&gt; `...500`
• `` -&gt; `...501`
• `` -&gt; `...502`
• `` -&gt; `...503`
• `` -&gt; `...504`
• `` -&gt; `...505`
• `` -&gt; `...506`
• `` -&gt; `...507`
• `` -&gt; `...508`
• `` -&gt; `...509`
• `` -&gt; `...510`
• `` -&gt; `...511`
• `` -&gt; `...512`
• `` -&gt; `...513`
• `` -&gt; `...514`
• `` -&gt; `...515`
• `` -&gt; `...516`
• `` -&gt; `...517`
• `` -&gt; `...518`
• `` -&gt; `...519`
• `` -&gt; `...520`
• `` -&gt; `...521`
• `` -&gt; `...522`
• `` -&gt; `...523`
• `` -&gt; `...524`
• `` -&gt; `...525`
• `` -&gt; `...526`
• `` -&gt; `...527`
• `` -&gt; `...528`
• `` -&gt; `...529`
• `` -&gt; `...530`
• `` -&gt; `...531`
• `` -&gt; `...532`
• `` -&gt; `...533`
• `` -&gt; `...534`
• `` -&gt; `...535`
• `` -&gt; `...536`
• `` -&gt; `...537`
• `` -&gt; `...538`
• `` -&gt; `...539`
• `` -&gt; `...540`
• `` -&gt; `...541`
• `` -&gt; `...542`
• `` -&gt; `...543`
• `` -&gt; `...544`
• `` -&gt; `...545`
• `` -&gt; `...546`
• `` -&gt; `...547`
• `` -&gt; `...548`
• `` -&gt; `...549`
• `` -&gt; `...550`
• `` -&gt; `...551`
• `` -&gt; `...552`
• `` -&gt; `...553`
• `` -&gt; `...554`
• `` -&gt; `...555`
• `` -&gt; `...556`
• `` -&gt; `...557`
• `` -&gt; `...558`
• `` -&gt; `...559`
• `` -&gt; `...560`
• `` -&gt; `...561`
• `` -&gt; `...562`
• `` -&gt; `...563`
• `` -&gt; `...564`
• `` -&gt; `...565`
• `` -&gt; `...566`
• `` -&gt; `...567`
• `` -&gt; `...568`
• `` -&gt; `...569`
• `` -&gt; `...570`
• `` -&gt; `...571`
• `` -&gt; `...572`
• `` -&gt; `...573`
• `` -&gt; `...574`
• `` -&gt; `...575`
• `` -&gt; `...576`
• `` -&gt; `...577`
• `` -&gt; `...578`
• `` -&gt; `...579`
• `` -&gt; `...580`
• `` -&gt; `...581`
• `` -&gt; `...582`
• `` -&gt; `...583`
• `` -&gt; `...584`
• `` -&gt; `...585`
• `` -&gt; `...586`
• `` -&gt; `...587`
• `` -&gt; `...588`
• `` -&gt; `...589`
• `` -&gt; `...590`
• `` -&gt; `...591`
• `` -&gt; `...592`
• `` -&gt; `...593`
• `` -&gt; `...594`
• `` -&gt; `...595`
• `` -&gt; `...596`
• `` -&gt; `...597`
• `` -&gt; `...598`
• `` -&gt; `...599`
• `` -&gt; `...600`
• `` -&gt; `...601`
• `` -&gt; `...602`
• `` -&gt; `...603`
• `` -&gt; `...604`
• `` -&gt; `...605`
• `` -&gt; `...606`
• `` -&gt; `...607`
• `` -&gt; `...608`
• `` -&gt; `...609`
• `` -&gt; `...610`
• `` -&gt; `...611`
• `` -&gt; `...612`
• `` -&gt; `...613`
• `` -&gt; `...614`
• `` -&gt; `...615`
• `` -&gt; `...616`
• `` -&gt; `...617`
• `` -&gt; `...618`
• `` -&gt; `...619`
• `` -&gt; `...620`
• `` -&gt; `...621`
• `` -&gt; `...622`
• `` -&gt; `...623`
• `` -&gt; `...624`
• `` -&gt; `...625`
• `` -&gt; `...626`
• `` -&gt; `...627`
• `` -&gt; `...628`
• `` -&gt; `...629`
• `` -&gt; `...630`
• `` -&gt; `...631`
• `` -&gt; `...632`
• `` -&gt; `...633`
• `` -&gt; `...634`
• `` -&gt; `...635`
• `` -&gt; `...636`
• `` -&gt; `...637`
• `` -&gt; `...638`
• `` -&gt; `...639`
• `` -&gt; `...640`
• `` -&gt; `...641`
• `` -&gt; `...642`
• `` -&gt; `...643`
• `` -&gt; `...644`
• `` -&gt; `...645`
• `` -&gt; `...646`
• `` -&gt; `...647`
• `` -&gt; `...648`
• `` -&gt; `...649`
• `` -&gt; `...650`
• `` -&gt; `...651`
• `` -&gt; `...652`
• `` -&gt; `...653`
• `` -&gt; `...654`
• `` -&gt; `...655`
• `` -&gt; `...656`
• `` -&gt; `...657`
• `` -&gt; `...658`
• `` -&gt; `...659`
• `` -&gt; `...660`
• `` -&gt; `...661`
• `` -&gt; `...662`
• `` -&gt; `...663`
• `` -&gt; `...664`
• `` -&gt; `...665`
• `` -&gt; `...666`
• `` -&gt; `...667`
• `` -&gt; `...668`
• `` -&gt; `...669`
• `` -&gt; `...670`
• `` -&gt; `...671`
• `` -&gt; `...672`
• `` -&gt; `...673`
• `` -&gt; `...674`
• `` -&gt; `...675`
• `` -&gt; `...676`
• `` -&gt; `...677`
• `` -&gt; `...678`
• `` -&gt; `...679`
• `` -&gt; `...680`
• `` -&gt; `...681`
• `` -&gt; `...682`
• `` -&gt; `...683`
• `` -&gt; `...684`
• `` -&gt; `...685`
• `` -&gt; `...686`
• `` -&gt; `...687`
• `` -&gt; `...688`
• `` -&gt; `...689`
• `` -&gt; `...690`
• `` -&gt; `...691`
• `` -&gt; `...692`
• `` -&gt; `...693`
• `` -&gt; `...694`
• `` -&gt; `...695`
• `` -&gt; `...696`
• `` -&gt; `...697`
• `` -&gt; `...698`
• `` -&gt; `...699`
• `` -&gt; `...700`
• `` -&gt; `...701`
• `` -&gt; `...702`
• `` -&gt; `...703`
• `` -&gt; `...704`
• `` -&gt; `...705`
• `` -&gt; `...706`
• `` -&gt; `...707`
• `` -&gt; `...708`
• `` -&gt; `...709`
• `` -&gt; `...710`
• `` -&gt; `...711`
• `` -&gt; `...712`
• `` -&gt; `...713`
• `` -&gt; `...714`
• `` -&gt; `...715`
• `` -&gt; `...716`
• `` -&gt; `...717`
• `` -&gt; `...718`
• `` -&gt; `...719`
• `` -&gt; `...720`
• `` -&gt; `...721`
• `` -&gt; `...722`
• `` -&gt; `...723`
• `` -&gt; `...724`
• `` -&gt; `...725`
• `` -&gt; `...726`
• `` -&gt; `...727`
• `` -&gt; `...728`
• `` -&gt; `...729`
• `` -&gt; `...730`
• `` -&gt; `...731`
• `` -&gt; `...732`
• `` -&gt; `...733`
• `` -&gt; `...734`</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>